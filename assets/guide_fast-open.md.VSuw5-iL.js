import{_ as s,c as a,o as t,ae as i}from"./chunks/framework.U1Gow_7P.js";const u=JSON.parse('{"title":"Fast Open","description":"","frontmatter":{},"headers":[],"relativePath":"guide/fast-open.md","filePath":"guide/fast-open.md"}'),n={name:"guide/fast-open.md"};function o(r,e,l,p,c,d){return t(),a("div",null,e[0]||(e[0]=[i(`<h1 id="fast-open" tabindex="-1">Fast Open <a class="header-anchor" href="#fast-open" aria-label="Permalink to &quot;Fast Open&quot;">​</a></h1><p>Fast Open is a performance optimization feature that significantly reduces connection latency by streamlining the SOCKS5 handshake process. It is particularly suitable for applications that make <strong>large numbers of requests</strong>, such as web browsing.</p><h2 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h2><p>Fast Open optimizes the CONNECT handshake by allowing the SOCKS5 side to immediately reply with &quot;success&quot;, enabling applications to send data immediately without waiting for the full handshake to complete.</p><div class="tip custom-block"><p class="custom-block-title">Performance Benefit</p><p>Fast Open saves <strong>one full round-trip time (RTT)</strong> during connection establishment, significantly improving perceived performance for applications making many connections.</p></div><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>Fast Open can be enabled independently on different components:</p><h3 id="server-side-reverse-proxy-mode" tabindex="-1">Server Side (reverse proxy mode) <a class="header-anchor" href="#server-side-reverse-proxy-mode" aria-label="Permalink to &quot;Server Side (reverse proxy mode)&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Enable Fast Open on server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rusocks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> token</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --fast-open</span></span></code></pre></div><h3 id="client-side-forward-proxy-mode" tabindex="-1">Client Side (forward proxy mode) <a class="header-anchor" href="#client-side-forward-proxy-mode" aria-label="Permalink to &quot;Client Side (forward proxy mode)&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Enable Fast Open on client</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rusocks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> token</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ws://server:8765</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --fast-open</span></span></code></pre></div><h2 id="timeout-settings-and-connection-failure-handling" tabindex="-1">Timeout Settings and Connection Failure Handling <a class="header-anchor" href="#timeout-settings-and-connection-failure-handling" aria-label="Permalink to &quot;Timeout Settings and Connection Failure Handling&quot;">​</a></h2><p>The default timeout for Fast Open is <strong>ConnectTimeout (10 seconds) + 5 seconds guard time</strong>. This means the proxy will wait up to 15 seconds for the actual connection to be established after sending the immediate success response.</p><p>If no response is received from the server after 15 seconds, or if the server responds that the connection cannot be established, the connection will be closed. This ensures that failed connections don&#39;t leave hanging sockets.</p><h2 id="potential-issues-and-limitations" tabindex="-1">Potential Issues and Limitations <a class="header-anchor" href="#potential-issues-and-limitations" aria-label="Permalink to &quot;Potential Issues and Limitations&quot;">​</a></h2><p>Fast Open may cause problems in certain scenarios:</p><ul><li><strong>Application assumes immediate connectivity</strong>: Some applications may assume that a successful SOCKS5 CONNECT response means the connection is immediately ready for data transfer</li><li><strong>Error handling complexity</strong>: Applications may receive data before the actual connection fails, leading to confusing error states</li><li><strong>Network instability</strong>: In unstable network environments, the delayed connection establishment may cause more timeouts</li></ul><div class="warning custom-block"><p class="custom-block-title">When to Disable Fast Open</p><p>If you experience connection issues, application errors, or unexpected timeouts, try disabling Fast Open by removing the <code>--fast-open</code> flag. Fast Open works best with stable networks and applications that can handle asynchronous connection establishment.</p></div>`,18)]))}const m=s(n,[["render",o]]);export{u as __pageData,m as default};
