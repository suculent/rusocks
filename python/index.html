<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python Library | Rusocks</title>
    <meta name="description" content="SOCKS5 over WebSocket proxy tool">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DF6-HpvV.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Jr-4Po0P.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BoFSCIOo.js">
    <link rel="modulepreload" href="/assets/chunks/framework.U1Gow_7P.js">
    <link rel="modulepreload" href="/assets/python_index.md.t6oYG1sf.lean.js">
    <link rel="icon" href="/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b91a21e9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d3906354></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-d3906354>Skip to content</a><!--]--><!----><header class="VPNav" data-v-b91a21e9 data-v-1cff14d0><div class="VPNavBar" data-v-1cff14d0 data-v-0ec8cc1b><div class="wrapper" data-v-0ec8cc1b><div class="container" data-v-0ec8cc1b><div class="title" data-v-0ec8cc1b><div class="VPNavBarTitle has-sidebar" data-v-0ec8cc1b data-v-20dad3b9><a class="title" href="/" data-v-20dad3b9><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-22fb1f4e><!--]--><span data-v-20dad3b9>Rusocks</span><!--[--><!--]--></a></div></div><div class="content" data-v-0ec8cc1b><div class="content-body" data-v-0ec8cc1b><!--[--><!--]--><div class="VPNavBarSearch search" data-v-0ec8cc1b><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-0ec8cc1b data-v-1d4dc5e9><span id="main-nav-aria-label" class="visually-hidden" data-v-1d4dc5e9> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-1d4dc5e9 data-v-abc3b867><!--[--><span data-v-abc3b867>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/suculent/rusocks" target="_blank" rel="noreferrer" tabindex="0" data-v-1d4dc5e9 data-v-abc3b867><!--[--><span data-v-abc3b867>GitHub</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-0ec8cc1b data-v-2f2a3d73 data-v-633e8ed5><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-633e8ed5><span class="text" data-v-633e8ed5><span class="vpi-languages option-icon" data-v-633e8ed5></span><!----><span class="vpi-chevron-down text-icon" data-v-633e8ed5></span></span></button><div class="menu" data-v-633e8ed5><div class="VPMenu" data-v-633e8ed5 data-v-3606efb8><!----><!--[--><!--[--><div class="items" data-v-2f2a3d73><p class="title" data-v-2f2a3d73>English</p><!--[--><div class="VPMenuLink" data-v-2f2a3d73 data-v-ced03663><a class="VPLink link" href="/zh/python/" data-v-ced03663><!--[--><span data-v-ced03663>ç®€ä½“ä¸­æ–‡</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-0ec8cc1b data-v-ed6ebae1><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-ed6ebae1 data-v-831222da data-v-e1d2a8c0><span class="check" data-v-e1d2a8c0><span class="icon" data-v-e1d2a8c0><!--[--><span class="vpi-sun sun" data-v-831222da></span><span class="vpi-moon moon" data-v-831222da></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-0ec8cc1b data-v-d5dc2b01 data-v-eaa7e9e0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/suculent/rusocks" aria-label="github" target="_blank" rel="noopener" data-v-eaa7e9e0 data-v-e07d7ae4><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-0ec8cc1b data-v-e9ba7072 data-v-633e8ed5><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-633e8ed5><span class="vpi-more-horizontal icon" data-v-633e8ed5></span></button><div class="menu" data-v-633e8ed5><div class="VPMenu" data-v-633e8ed5 data-v-3606efb8><!----><!--[--><!--[--><div class="group translations" data-v-e9ba7072><p class="trans-title" data-v-e9ba7072>English</p><!--[--><div class="VPMenuLink" data-v-e9ba7072 data-v-ced03663><a class="VPLink link" href="/zh/python/" data-v-ced03663><!--[--><span data-v-ced03663>ç®€ä½“ä¸­æ–‡</span><!--]--></a></div><!--]--></div><div class="group" data-v-e9ba7072><div class="item appearance" data-v-e9ba7072><p class="label" data-v-e9ba7072>Appearance</p><div class="appearance-action" data-v-e9ba7072><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-e9ba7072 data-v-831222da data-v-e1d2a8c0><span class="check" data-v-e1d2a8c0><span class="icon" data-v-e1d2a8c0><!--[--><span class="vpi-sun sun" data-v-831222da></span><span class="vpi-moon moon" data-v-831222da></span><!--]--></span></span></button></div></div></div><div class="group" data-v-e9ba7072><div class="item social-links" data-v-e9ba7072><div class="VPSocialLinks social-links-list" data-v-e9ba7072 data-v-eaa7e9e0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/suculent/rusocks" aria-label="github" target="_blank" rel="noopener" data-v-eaa7e9e0 data-v-e07d7ae4><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0ec8cc1b data-v-260751ae><span class="container" data-v-260751ae><span class="top" data-v-260751ae></span><span class="middle" data-v-260751ae></span><span class="bottom" data-v-260751ae></span></span></button></div></div></div></div><div class="divider" data-v-0ec8cc1b><div class="divider-line" data-v-0ec8cc1b></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-b91a21e9 data-v-1990dd4a><div class="container" data-v-1990dd4a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-1990dd4a><span class="vpi-align-left menu-icon" data-v-1990dd4a></span><span class="menu-text" data-v-1990dd4a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1990dd4a data-v-a6f90842><button data-v-a6f90842>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-b91a21e9 data-v-514c0316><div class="curtain" data-v-514c0316></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-514c0316><span class="visually-hidden" id="sidebar-aria-label" data-v-514c0316> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0" data-v-c5c0ec3d data-v-ac3da736><div class="item" role="button" tabindex="0" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><h2 class="text" data-v-ac3da736>Getting Started</h2><!----></div><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/principles" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>How It Works</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/quick-start" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Quick Start</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0" data-v-c5c0ec3d data-v-ac3da736><div class="item" role="button" tabindex="0" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><h2 class="text" data-v-ac3da736>Advanced Topics</h2><!----></div><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/cli-options" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Command-line Options</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/authentication" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Authentication</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/load-balancing" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Load Balancing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/fast-open" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Fast Open</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/message-protocol" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Message Protocol</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/guide/http-api" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>HTTP API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0 has-active" data-v-c5c0ec3d data-v-ac3da736><div class="item" role="button" tabindex="0" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><h2 class="text" data-v-ac3da736>Python Library</h2><!----></div><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/python/" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/python/server" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Server Class</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/python/client" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Client Class</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/python/utilities" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Utilities</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0" data-v-c5c0ec3d data-v-ac3da736><div class="item" role="button" tabindex="0" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><h2 class="text" data-v-ac3da736>Go Library</h2><!----></div><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/go/" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/go/library" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Library Usage</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/go/examples" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-b91a21e9 data-v-23efeb3f><div class="VPDoc has-sidebar has-aside" data-v-23efeb3f data-v-ffa27755><!--[--><!--]--><div class="container" data-v-ffa27755><div class="aside" data-v-ffa27755><div class="aside-curtain" data-v-ffa27755></div><div class="aside-container" data-v-ffa27755><div class="aside-content" data-v-ffa27755><div class="VPDocAside" data-v-ffa27755 data-v-9fabdbab><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-9fabdbab data-v-ff766cb7><div class="content" data-v-ff766cb7><div class="outline-marker" data-v-ff766cb7></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-ff766cb7>On this page</div><ul class="VPDocOutlineItem root" data-v-ff766cb7 data-v-f3e7a274><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-9fabdbab></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ffa27755><div class="content-container" data-v-ffa27755><!--[--><!--]--><main class="main" data-v-ffa27755><div style="position:relative;" class="vp-doc _python_" data-v-ffa27755><div><h1 id="python-library" tabindex="-1">Python Library <a class="header-anchor" href="#python-library" aria-label="Permalink to &quot;Python Library&quot;">â€‹</a></h1><p>LinkSocks provides Python bindings that wrap the Go implementation, offering both synchronous and asynchronous APIs.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">â€‹</a></h2><p>The Python bindings provide two main classes:</p><ul><li><code>Server</code> - WebSocket server that handles SOCKS5 proxy requests</li><li><code>Client</code> - WebSocket client that connects to servers and provides SOCKS5 functionality</li></ul><h2 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">â€‹</a></h2><h3 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linksocks</span></span></code></pre></div><h3 id="simple-forward-proxy" tabindex="-1">Simple Forward Proxy <a class="header-anchor" href="#simple-forward-proxy" aria-label="Permalink to &quot;Simple Forward Proxy&quot;">â€‹</a></h3><p>Create a forward proxy that routes traffic through a remote server:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> asyncio</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> linksocks </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Server, Client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forward_proxy_example</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">():</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Start server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Server(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ws_port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8765</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> server:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Add token for client authentication</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        token </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> server.async_add_forward_token()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Created token: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Start client that provides SOCKS5 proxy</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Client(token, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ws_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws://localhost:8765&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">socks_port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9870</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;âœ… Forward proxy ready!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸ“¡ Use SOCKS5 proxy: 127.0.0.1:9870&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸŒ Example: curl --socks5 127.0.0.1:9870 http://httpbin.org/ip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # Keep running</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> asyncio.sleep(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run the example</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">asyncio.run(forward_proxy_example())</span></span></code></pre></div><h3 id="simple-reverse-proxy" tabindex="-1">Simple Reverse Proxy <a class="header-anchor" href="#simple-reverse-proxy" aria-label="Permalink to &quot;Simple Reverse Proxy&quot;">â€‹</a></h3><p>Create a reverse proxy that provides internet access to a remote client:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> asyncio</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> linksocks </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Server, Client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reverse_proxy_example</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">():</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Start server</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Server(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ws_port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8765</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> server:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Create reverse token - server provides SOCKS5 proxy</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> server.async_add_reverse_token()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Created reverse token: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result.token</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸ“¡ SOCKS5 proxy available at: 127.0.0.1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result.port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Client connects and provides internet access</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Client(result.token, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ws_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws://localhost:8765&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reverse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;âœ… Reverse proxy ready!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ğŸŒ Example: curl --socks5 127.0.0.1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://httpbin.org/ip&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.format(result.port))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # Keep running</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> asyncio.sleep(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run the example</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">asyncio.run(reverse_proxy_example())</span></span></code></pre></div><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">â€‹</a></h2><ul><li><a href="./server">Server API</a> - Complete Server class reference</li><li><a href="./client">Client API</a> - Complete Client class reference</li></ul></div></div></main><footer class="VPDocFooter" data-v-ffa27755 data-v-8b244c14><!--[--><!--]--><div class="edit-info" data-v-8b244c14><div class="edit-link" data-v-8b244c14><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/suculent/rusocks/edit/main/docs/python/index.md" target="_blank" rel="noreferrer" data-v-8b244c14><!--[--><span class="vpi-square-pen edit-link-icon" data-v-8b244c14></span> Edit this page on GitHub<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-8b244c14><span class="visually-hidden" id="doc-footer-aria-label" data-v-8b244c14>Pager</span><div class="pager" data-v-8b244c14><a class="VPLink link pager-link prev" href="/guide/http-api" data-v-8b244c14><!--[--><span class="desc" data-v-8b244c14>Previous page</span><span class="title" data-v-8b244c14>HTTP API</span><!--]--></a></div><div class="pager" data-v-8b244c14><a class="VPLink link pager-link next" href="/python/server" data-v-8b244c14><!--[--><span class="desc" data-v-8b244c14>Next page</span><span class="title" data-v-8b244c14>Server Class</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-b91a21e9 data-v-57b113e8><div class="container" data-v-57b113e8><p class="message" data-v-57b113e8>Released under the MIT License.</p><p class="copyright" data-v-57b113e8>Copyright Â© 2025 Rusocks Contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"go_examples.md\":\"CBZ5TBM1\",\"go_index.md\":\"CSIIdZGU\",\"go_library.md\":\"DMro3sfD\",\"guide_authentication.md\":\"CcWKJ4wa\",\"guide_cli-options.md\":\"ChA0LT-f\",\"guide_fast-open.md\":\"VSuw5-iL\",\"guide_http-api.md\":\"BLfqSEIf\",\"guide_index.md\":\"BYMXekoX\",\"guide_load-balancing.md\":\"Bp2-ws1F\",\"guide_message-protocol.md\":\"Df3q66xR\",\"guide_principles.md\":\"XJvDZXKF\",\"guide_quick-start.md\":\"BdlM1D8K\",\"index.md\":\"C6IZKa2p\",\"python_client.md\":\"DHd2YNT3\",\"python_index.md\":\"t6oYG1sf\",\"python_server.md\":\"C0-UK_uR\",\"python_utilities.md\":\"CGfvaX6O\",\"readme.md\":\"DPgZ8rrI\",\"zh_go_examples.md\":\"DCpd3xs4\",\"zh_go_index.md\":\"5W3FjQ4y\",\"zh_go_library.md\":\"C1rCMYSZ\",\"zh_guide_authentication.md\":\"Bkn0aPpD\",\"zh_guide_cli-options.md\":\"YuIZngsw\",\"zh_guide_fast-open.md\":\"BzuRnIz2\",\"zh_guide_http-api.md\":\"C47ZUePD\",\"zh_guide_index.md\":\"B2sWhwyA\",\"zh_guide_load-balancing.md\":\"Dg204245\",\"zh_guide_message-protocol.md\":\"B7yRQO7V\",\"zh_guide_principles.md\":\"Du9kqqSL\",\"zh_guide_quick-start.md\":\"DJb4-qbI\",\"zh_index.md\":\"CNNQMNh1\",\"zh_python_client.md\":\"BwIZH35H\",\"zh_python_index.md\":\"D5ejJEzP\",\"zh_python_server.md\":\"D-tQu0oV\",\"zh_python_utilities.md\":\"BI3MCPA_\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Rusocks\",\"description\":\"SOCKS5 over WebSocket proxy tool\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\",\"title\":\"Rusocks\",\"description\":\"SOCKS5 over WebSocket proxy tool\",\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/suculent/rusocks\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/\"},{\"text\":\"How It Works\",\"link\":\"/guide/principles\"},{\"text\":\"Quick Start\",\"link\":\"/guide/quick-start\"}]},{\"text\":\"Advanced Topics\",\"items\":[{\"text\":\"Command-line Options\",\"link\":\"/guide/cli-options\"},{\"text\":\"Authentication\",\"link\":\"/guide/authentication\"},{\"text\":\"Load Balancing\",\"link\":\"/guide/load-balancing\"},{\"text\":\"Fast Open\",\"link\":\"/guide/fast-open\"},{\"text\":\"Message Protocol\",\"link\":\"/guide/message-protocol\"},{\"text\":\"HTTP API\",\"link\":\"/guide/http-api\"}]},{\"text\":\"Python Library\",\"items\":[{\"text\":\"Overview\",\"link\":\"/python/\"},{\"text\":\"Server Class\",\"link\":\"/python/server\"},{\"text\":\"Client Class\",\"link\":\"/python/client\"},{\"text\":\"Utilities\",\"link\":\"/python/utilities\"}]},{\"text\":\"Go Library\",\"items\":[{\"text\":\"Overview\",\"link\":\"/go/\"},{\"text\":\"Library Usage\",\"link\":\"/go/library\"},{\"text\":\"Examples\",\"link\":\"/go/examples\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/suculent/rusocks\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright Â© 2025 Rusocks Contributors\"},\"editLink\":{\"pattern\":\"https://github.com/suculent/rusocks/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Updated at\",\"formatOptions\":{\"dateStyle\":\"full\",\"timeStyle\":\"medium\"}}}},\"zh\":{\"label\":\"ç®€ä½“ä¸­æ–‡\",\"lang\":\"zh-CN\",\"title\":\"Rusocks\",\"description\":\"åŸºäº WebSocket çš„ SOCKS5 ä»£ç†å·¥å…·\",\"themeConfig\":{\"logo\":\"/logo.png\",\"nav\":[{\"text\":\"æŒ‡å—\",\"link\":\"/zh/guide/\"},{\"text\":\"GitHub\",\"link\":\"https://github.com/suculent/rusocks\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":[{\"text\":\"å¿«é€Ÿå¼€å§‹\",\"items\":[{\"text\":\"ä»‹ç»\",\"link\":\"/zh/guide/\"},{\"text\":\"å·¥ä½œåŸç†\",\"link\":\"/zh/guide/principles\"},{\"text\":\"å¿«é€Ÿå…¥é—¨\",\"link\":\"/zh/guide/quick-start\"}]},{\"text\":\"è¿›é˜¶ä¸»é¢˜\",\"items\":[{\"text\":\"å‘½ä»¤è¡Œé€‰é¡¹\",\"link\":\"/zh/guide/cli-options\"},{\"text\":\"èº«ä»½éªŒè¯\",\"link\":\"/zh/guide/authentication\"},{\"text\":\"è´Ÿè½½å‡è¡¡\",\"link\":\"/zh/guide/load-balancing\"},{\"text\":\"å¿«é€Ÿæ‰“å¼€\",\"link\":\"/zh/guide/fast-open\"},{\"text\":\"æ¶ˆæ¯åè®®\",\"link\":\"/zh/guide/message-protocol\"},{\"text\":\"HTTP API\",\"link\":\"/zh/guide/http-api\"}]},{\"text\":\"Python åº“\",\"items\":[{\"text\":\"æ¦‚è¿°\",\"link\":\"/zh/python/\"},{\"text\":\"Server ç±»\",\"link\":\"/zh/python/server\"},{\"text\":\"Client ç±»\",\"link\":\"/zh/python/client\"},{\"text\":\"å·¥å…·å‡½æ•°\",\"link\":\"/zh/python/utilities\"}]},{\"text\":\"Go åº“\",\"items\":[{\"text\":\"æ¦‚è¿°\",\"link\":\"/zh/go/\"},{\"text\":\"åº“çš„ä½¿ç”¨\",\"link\":\"/zh/go/library\"},{\"text\":\"ç¤ºä¾‹\",\"link\":\"/zh/go/examples\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/suculent/rusocks\"}],\"footer\":{\"message\":\"åŸºäº MIT è®¸å¯è¯å‘å¸ƒã€‚\",\"copyright\":\"ç‰ˆæƒæ‰€æœ‰ Â© 2025 Rusocks è´¡çŒ®è€…\"},\"editLink\":{\"pattern\":\"https://github.com/suculent/rusocks/edit/main/docs/:path\",\"text\":\"åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ\"},\"lastUpdated\":{\"text\":\"æœ€åæ›´æ–°äº\",\"formatOptions\":{\"dateStyle\":\"full\",\"timeStyle\":\"medium\"}}}}},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>